<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêƒÉng T·∫£i Truy·ªán C·ªï T√≠ch</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Merriweather&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, input, select, textarea, .editor {
            font-family: 'Noto Serif', 'Georgia', 'Times New Roman', serif;
        }

        body {
            background: linear-gradient(135deg, #f5f0e8 0%, #e8dcc6 50%, #f0e8d8 100%);
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(139, 115, 85, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 115, 85, 0.1) 0%, transparent 50%);
            min-height: 100vh;
            padding: 20px;
            color: #4a3c2a;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(145deg, #faf7f0, #f5f0e8);
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(139, 115, 85, 0.2);
            overflow: hidden;
            border: 2px solid #d4af37;
        }

        .header {
            background: linear-gradient(45deg, #8b7355, #a0845c);
            color: #f5f0e8;
            padding: 30px;
            text-align: center;
            position: relative;
            border-bottom: 3px solid #d4af37;
        }

        .header::before {
            content: 'ü¶ã';
            position: absolute;
            top: 15px;
            left: 30px;
            font-size: 1.5rem;
            opacity: 0.7;
        }

        .header::after {
            content: 'ü¶ã';
            position: absolute;
            top: 15px;
            right: 30px;
            font-size: 1.5rem;
            opacity: 0.7;
        }

        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            letter-spacing: 1px;
        }

        .header p {
            font-size: 1rem;
            opacity: 0.9;
            font-style: italic;
        }

        .main-content {
            padding: 40px;
            background: #faf7f0;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            font-weight: bold;
            color: #8b7355;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        input[type="text"], select {
            width: 100%;
            padding: 15px;
            border: 2px solid #d4af37;
            border-radius: 8px;
            font-size: 16px;
            background: #f5f0e8;
            color: #4a3c2a;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #8b7355;
            box-shadow: 0 0 0 3px rgba(139, 115, 85, 0.2);
        }

        .toolbar {
            background: linear-gradient(145deg, #e8dcc6, #d4af37);
            border: 2px solid #8b7355;
            border-radius: 8px 8px 0 0;
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .toolbar-group {
            display: flex;
            gap: 5px;
            border-right: 1px solid #8b7355;
            padding-right: 15px;
        }

        .toolbar-group:last-child {
            border-right: none;
        }

        .tool-btn {
            padding: 8px 12px;
            border: 2px solid #8b7355;
            background: #f5f0e8;
            border-radius: 6px;
            cursor: pointer;
            color: #8b7355;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        .tool-btn:hover, .tool-btn.active {
            background: #8b7355;
            color: #f5f0e8;
        }

        .font-size-select, .color-picker {
            padding: 6px 10px;
            border: 2px solid #8b7355;
            border-radius: 4px;
            background: #f5f0e8;
            color: #8b7355;
        }

        .rich-text-editor {
            min-height: 400px;
            padding: 25px;
            border: 2px solid #8b7355;
            border-top: none;
            border-radius: 0 0 8px 8px;
            background: #faf7f0;
            font-size: 16px;
            line-height: 1.8;
            color: #4a3c2a;
        }

        .rich-text-editor:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(139, 115, 85, 0.2);
        }

        .rich-text-editor[contenteditable="true"]:empty::before {
            content: "B·∫Øt ƒë·∫ßu vi·∫øt c√¢u chuy·ªán tuy·ªát v·ªùi c·ªßa b·∫°n...\A\ATips:\A‚Ä¢ G√µ vƒÉn b·∫£n tr·ª±c ti·∫øp\A‚Ä¢ D√°n h√¨nh ·∫£nh b·∫±ng Ctrl+V\A‚Ä¢ K√©o th·∫£ file multimedia\A‚Ä¢ S·ª≠ d·ª•ng toolbar ƒë·ªÉ ƒë·ªãnh d·∫°ng";
            color: #a0845c;
            white-space: pre-line;
            font-style: italic;
        }

        .upload-zone {
            margin-top: 20px;
            border: 3px dashed #8b7355;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            background: linear-gradient(45deg, rgba(139, 115, 85, 0.05), rgba(212, 175, 55, 0.05));
            cursor: pointer;
            color: #8b7355;
        }

        .upload-zone:hover {
            border-color: #d4af37;
            background: linear-gradient(45deg, rgba(139, 115, 85, 0.1), rgba(212, 175, 55, 0.1));
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 1.2rem;
            font-weight: bold;
            color: #8b7355;
            margin-bottom: 8px;
        }

        .upload-subtext {
            color: #a0845c;
            font-size: 0.9rem;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding: 15px;
            background: #e8dcc6;
            border-radius: 8px;
            border: 2px solid #d4af37;
        }

        .word-count {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            color: #8b7355;
            font-weight: bold;
        }

        .actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: 2px solid #8b7355;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary {
            background: #f5f0e8;
            color: #8b7355;
        }

        .btn-secondary:hover {
            background: #8b7355;
            color: #f5f0e8;
        }

        .btn-primary {
            background: linear-gradient(45deg, #8b7355, #a0845c);
            color: #f5f0e8;
            border-color: #d4af37;
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, #a0845c, #8b7355);
            transform: translateY(-2px);
        }

        .editor-image, .editor-video {
            max-width: 100%;
            height: auto;
            margin: 15px 0;
            border-radius: 8px;
            border: 2px solid #d4af37;
        }

        .emoji-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #faf7f0;
            border: 3px solid #8b7355;
            padding: 20px;
            border-radius: 10px;
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            z-index: 1000;
        }

        .emoji-option {
            font-size: 1.5rem;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 6px;
            transition: background 0.2s ease;
        }

        .emoji-option:hover {
            background: #e8dcc6;
        }

        .preview-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(139, 115, 85, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .preview-content {
            background: #faf7f0;
            border: 3px solid #8b7355;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 10px;
            padding: 30px;
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #d4af37;
        }

        .close-btn {
            background: #8b7355;
            color: #f5f0e8;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .main-content { padding: 20px; }
            .toolbar { flex-direction: column; }
            .toolbar-group { border-right: none; border-bottom: 1px solid #8b7355; padding-bottom: 10px; }
            .actions { flex-direction: column; }
            .btn { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚úçÔ∏è C·ªï T√≠ch Lang Thang</h1>
            <p>T·∫°o n√™n nh·ªØng c√¢u chuy·ªán tuy·ªát v·ªùi v·ªõi tr√¨nh so·∫°n th·∫£o chuy√™n nghi·ªáp</p>
        </div>

        <div class="main-content">
            <div class="form-section">
                <div class="form-group">
                    <label for="storyTitle">üìñ Ti√™u ƒë·ªÅ truy·ªán:</label>
                    <input type="text" id="storyTitle" placeholder="Nh·∫≠p ti√™u ƒë·ªÅ h·∫•p d·∫´n cho truy·ªán c·ªßa b·∫°n..." maxlength="100">
                </div>

                <div class="form-group">
                    <label for="storyIcon">üñºÔ∏è Bi·ªÉu t∆∞·ª£ng cho truy·ªán:</label>
                    <input type="file" id="storyIcon" accept="image/*">
                </div>
            </div>

            <div class="editor-container">
                <div class="toolbar">
                    <div class="toolbar-group">
                        <button type="button" class="tool-btn format-btn" data-format="bold" title="ƒê·∫≠m"><strong>B</strong></button>
                        <button type="button" class="tool-btn format-btn" data-format="italic" title="Nghi√™ng"><em>I</em></button>
                        <button type="button" class="tool-btn format-btn" data-format="underline" title="G·∫°ch ch√¢n"><u>U</u></button>
                    </div>

                    <div class="toolbar-group">
                        <select class="font-size-select" onchange="changeFontSize(this.value)">
                            <option value="14px">14px</option>
                            <option value="16px" selected>16px</option>
                            <option value="18px">18px</option>
                            <option value="20px">20px</option>
                            <option value="24px">24px</option>
                        </select>
                        <input type="color" class="color-picker" value="#4a3c2a" onchange="changeTextColor(this.value)" title="M√†u ch·ªØ">
                    </div>

                    <div class="toolbar-group">
                        <button type="button" class="tool-btn align-btn" data-align="left" title="Canh tr√°i">‚óÄ</button>
                        <button type="button" class="tool-btn align-btn" data-align="center" title="Canh gi·ªØa">‚ñ¨</button>
                        <button type="button" class="tool-btn align-btn" data-align="right" title="Canh ph·∫£i">‚ñ∂</button>
                    </div>

                    <div class="toolbar-group">
                        <button type="button" class="tool-btn" onclick="insertList('ul')" title="Danh s√°ch">‚Ä¢ List</button>
                        <button type="button" class="tool-btn" onclick="insertList('ol')" title="Danh s√°ch s·ªë">1. List</button>
                        <button type="button" class="tool-btn" onclick="insertLink()" title="Ch√®n li√™n k·∫øt">üîó</button>
                    </div>

                    <div class="toolbar-group">
                        <button type="button" class="tool-btn" onclick="insertImage()" title="Ch√®n h√¨nh ·∫£nh">üñºÔ∏è</button>
                        <button type="button" class="tool-btn" onclick="insertVideo()" title="Ch√®n video">üé•</button>
                        <button type="button" class="tool-btn" onclick="insertEmoji()" title="Ch√®n emoji">üòä</button>
                    </div>
                </div>

                <div id="storyEditor" class="rich-text-editor" contenteditable="true"></div>
            </div>

            <div class="upload-zone" id="uploadZone">
                <div class="upload-icon">üìÅ</div>
                <div class="upload-text">K√©o th·∫£ file v√†o ƒë√¢y ho·∫∑c click ƒë·ªÉ ch·ªçn</div>
                <div class="upload-subtext">H·ªó tr·ª£: JPG, PNG, GIF, MP4, WebM, MOV (t·ªëi ƒëa 50MB m·ªói file)</div>
                <input type="file" id="fileInput" multiple accept="image/*,video/*,.gif" style="display:none;">
            </div>

            <div class="stats">
                <div class="word-count">
                    <span id="wordCount">0 t·ª´</span>
                    <span id="charCount">0 k√Ω t·ª±</span>
                    <span id="readTime">0 ph√∫t ƒë·ªçc</span>
                </div>
            </div>

            <div class="actions">
                <button class="btn btn-secondary" onclick="previewStory()">üëÅÔ∏è Xem tr∆∞·ªõc</button>
                <button class="btn btn-primary" onclick="publishStory()" id="publishBtn">üöÄ ƒêƒÉng t·∫£i truy·ªán</button>
            </div>
        </div>
    </div>

    <script>
const editId = localStorage.getItem('editStoryId');

if (editId) {
    fetch(`/api/story/${editId}`)
      .then(res => res.json())
      .then(story => {
        document.getElementById('storyTitle').value = story.title;
        document.getElementById('storyEditor').innerHTML = story.content;
      });
}

        document.addEventListener('DOMContentLoaded', initializeEditor);

        function initializeEditor() {
            const editor = document.getElementById('storyEditor');
            const uploadZone = document.getElementById('uploadZone');
            const fileInput = document.getElementById('fileInput');

            function updateStats() {
                const text = editor.innerText.trim();
                const words = text ? text.split(/\s+/).length : 0;
                const chars = text.length;
                const readTime = Math.ceil(words / 200);

                document.getElementById('wordCount').textContent = `${words} t·ª´`;
                document.getElementById('charCount').textContent = `${chars} k√Ω t·ª±`;
                document.getElementById('readTime').textContent = `${readTime} ph√∫t ƒë·ªçc`;
            }

            editor.addEventListener('input', updateStats);

            document.querySelectorAll('.format-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const format = btn.dataset.format;
                    document.execCommand(format, false, null);
                    btn.classList.toggle('active');
                    editor.focus();
                });
            });

            document.querySelectorAll('.align-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.align-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    const align = btn.dataset.align;
                    document.execCommand('justify' + align.charAt(0).toUpperCase() + align.slice(1), false, null);
                    editor.focus();
                });
            });

            editor.addEventListener('paste', async (e) => {
  for (const item of e.clipboardData.items) {
    if (item.kind === 'file') {
      e.preventDefault();
      const file = item.getAsFile();
      const url = await uploadToCloudinary(file);
      insertMediaToEditor(url, file.type);
    }
  }
});

            uploadZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadZone.classList.add('drag-over');
            });

            uploadZone.addEventListener('dragleave', () => {
                uploadZone.classList.remove('drag-over');
            });

            uploadZone.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadZone.classList.remove('drag-over');
                handleFiles(e.dataTransfer.files);
            });

            uploadZone.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', () => handleFiles(fileInput.files));

            editor.addEventListener('keydown', (e) => {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case 'b': e.preventDefault(); document.execCommand('bold'); break;
                        case 'i': e.preventDefault(); document.execCommand('italic'); break;
                        case 'u': e.preventDefault(); document.execCommand('underline'); break;
                    }
                }
            });
        }

        async function handleFiles(files) {
  for (let file of files) {
    if (file.size > 50 * 1024 * 1024) {
      alert(`‚ùå File "${file.name}" qu√° l·ªõn!`);
      continue;
    }

    const url = await uploadToCloudinary(file);

    if (file.type.startsWith('image/')) {
      const img = document.createElement('img');
      img.src = url;
      img.className = 'editor-image';
      insertElement(img);
    } else if (file.type.startsWith('video/')) {
      const video = document.createElement('video');
      video.src = url;
      video.controls = true;
      video.className = 'editor-video';
      insertElement(video);
    }
  }
}

            async function insertImageFromFile(file) {
  const url = await uploadToCloudinary(file); // ‚úÖ tr·∫£ v·ªÅ link Cloudinary
  const img = document.createElement("img");
  img.src = url;
  img.className = 'editor-image';
  insertElement(img);
}

        async function insertVideoFromFile(file) {
  const url = await uploadToCloudinary(file);
  const video = document.createElement("video");
  video.src = url;
  video.controls = true;
  video.className = 'editor-video';
  insertElement(video);
}

        function insertElement(element) {
            const editor = document.getElementById('storyEditor');
            const selection = window.getSelection();
            
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                range.insertNode(element);
                range.setStartAfter(element);
                range.collapse(true);
                selection.removeAllRanges();
                selection.addRange(range);
            } else {
                editor.appendChild(element);
            }
            editor.focus();
        }

        function insertImage() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) insertImageFromFile(file);
            };
            input.click();
        }

        function insertVideo() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'video/*';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) insertVideoFromFile(file);
            };
            input.click();
        }

        function insertEmoji() {
            const emojis = ['üòä', 'üòÇ', '‚ù§Ô∏è', 'üéâ', '‚ú®', 'üåü', 'ü¶ã', 'üå∏', 'üé≠', 'üìö', 'üëë', 'üè∞', 'üê∏', 'ü¶Ñ', 'üåà', '‚≠ê', 'üéà', 'üé™', 'üéØ', 'üé®'];
            
            const panel = document.createElement('div');
            panel.className = 'emoji-panel';
            panel.innerHTML = emojis.map(emoji => 
                `<span class="emoji-option" onclick="insertEmojiToEditor('${emoji}')">${emoji}</span>`
            ).join('');

            document.querySelector('.emoji-panel')?.remove();
            document.body.appendChild(panel);
            setTimeout(() => panel.remove(), 8000);
        }

        function insertEmojiToEditor(emoji) {
            const textNode = document.createTextNode(emoji);
            insertElement(textNode);
            document.querySelector('.emoji-panel')?.remove();
        }

        function insertList(type) {
            document.execCommand('insert' + (type === 'ul' ? 'UnorderedList' : 'OrderedList'), false, null);
            document.getElementById('storyEditor').focus();
        }

        function insertLink() {
            const url = prompt('Nh·∫≠p URL:');
            if (url) {
                document.execCommand('createLink', false, url);
                document.getElementById('storyEditor').focus();
            }
        }

        function changeFontSize(size) {
            document.execCommand('fontSize', false, '7');
            const fontElements = document.querySelectorAll('font[size="7"]');
            fontElements.forEach(el => {
                el.removeAttribute('size');
                el.style.fontSize = size;
            });
        }

        function changeTextColor(color) {
            document.execCommand('foreColor', false, color);
        }

        function previewStory() {
            const title = document.getElementById('storyTitle').value;
            const category = document.getElementById('storyCategory').value;
            const content = document.getElementById('storyEditor').innerHTML;

            if (!title.trim()) {
                alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ti√™u ƒë·ªÅ truy·ªán!');
                return;
            }

            const categoryNames = {
                'fairy-tale': 'üßö‚Äç‚ôÄÔ∏è C·ªï t√≠ch truy·ªÅn th·ªëng',
                'fantasy': 'üîÆ Th·∫ßn tho·∫°i',
                'adventure': '‚öîÔ∏è Phi√™u l∆∞u',
                'moral': 'üìö Gi√°o d·ª•c ƒë·∫°o ƒë·ª©c',
                'animal': 'üêæ Truy·ªán ƒë·ªông v·∫≠t',
                'modern': 'üåü C·ªï t√≠ch hi·ªán ƒë·∫°i'
            };

            const modal = document.createElement('div');
            modal.className = 'preview-modal';
            modal.innerHTML = `
                <div class="preview-content">
                    <div class="preview-header">
                        <h2>üëÅÔ∏è Xem tr∆∞·ªõc truy·ªán</h2>
                        <button class="close-btn" onclick="this.closest('.preview-modal').remove()">‚úï</button>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <h1 style="color: #8b7355; margin-bottom: 10px;">${title}</h1>
                        <p style="color: #a0845c; font-style: italic;">Th·ªÉ lo·∫°i: ${categoryNames[category] || 'Ch∆∞a ch·ªçn'}</p>
                    </div>
                    <div style="line-height: 1.8; color: #4a3c2a;">${content || '<p style="color: #aaa;">Ch∆∞a c√≥ n·ªôi dung...</p>'}</div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        async function publishStory() {
    const title = document.getElementById('storyTitle').value.trim();
    const content = document.getElementById('storyEditor').innerHTML.trim();
    const iconInput = document.getElementById('storyIcon');
    const iconFile = iconInput?.files[0]; // file icon
    const btn = document.getElementById('publishBtn');

    if (!title) return alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ti√™u ƒë·ªÅ truy·ªán!');
    if (!content) return alert('‚ö†Ô∏è Vui l√≤ng vi·∫øt n·ªôi dung truy·ªán!');

    btn.disabled = true;
    btn.innerHTML = 'üöÄ ƒêang ƒëƒÉng...';

    let iconUrl = null;
if (iconFile) {
    iconUrl = await uploadToCloudinary(iconFile); // ‚úÖ Upload icon l√™n Cloudinary
}

const formData = new FormData();
formData.append('title', title);
formData.append('content', content);
formData.append("iconPath", iconUrl); // ‚úÖ G·ª≠i URL icon ƒë√£ upload
    try {
    let url = '/api/stories';
let method = 'POST';

if (editId) {
    url = `/api/stories/${editId}`;
    method = 'PUT';
}

const res = await fetch(url, {
    method,
    body: formData
});

    if (!res.ok) {
        const errorText = await res.text(); // ƒê·ªçc l·ªói th√¥
        throw new Error(`‚ùå L·ªói t·ª´ server: ${errorText}`);
    }

    const data = await res.json(); // ‚úÖ l√∫c n√†y ch·∫Øc ch·∫Øn l√† JSON

    if (data.success) {
        localStorage.removeItem('editStoryId');
        alert(`‚úÖ Truy·ªán "${title}" ƒë√£ ƒë∆∞·ª£c ƒëƒÉng t·∫£i th√†nh c√¥ng!`);
        document.getElementById('storyTitle').value = '';
        document.getElementById('storyEditor').innerHTML = '';
        if (iconInput) iconInput.value = '';
        window.location.href = 'home.html';
    } else {
        throw new Error('‚ùå L·ªói khi ƒëƒÉng truy·ªán.');
    }
} catch (err) {
    alert(err.message);
} finally {
    btn.disabled = false;
    btn.innerHTML = 'üöÄ ƒêƒÉng t·∫£i truy·ªán';
}
}

const CLOUD_NAME = "dbvdjqeke";
const UPLOAD_PRESET = "cotich_preset";

// H√†m upload file l√™n Cloudinary
async function uploadToCloudinary(file) {
    const formData = new FormData();
    formData.append("file", file);
    formData.append("upload_preset", UPLOAD_PRESET);

    const res = await fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/auto/upload`, {
        method: "POST",
        body: formData
    });

    if (!res.ok) throw new Error("‚ùå Upload l√™n Cloudinary th·∫•t b·∫°i");

    const data = await res.json();
    return data.secure_url; // Tr·∫£ v·ªÅ ƒë∆∞·ªùng d·∫´n vƒ©nh vi·ªÖn
}
    </script>
</body>
</html>